---
title: "SSA"
author: "Vishal Lala"
date: "1/17/2022"
output:
  pdf_document:
    toc: true
    toc_depth: 3
    highlight: pygments
  prettydoc::html_pretty:
    theme: cayman
    toc: true
    df_print: paged
  tufte::tufte_handout: default
  ioslides_presentation: default
  html_document: 
    toc: true
    toc_depth: 3
    toc_float: true
    theme: cerulean
    highlight: pygments
    df_print: paged
  html_vignette: default
  beamer_presentation: default
---

# Baby Names National Data  
The [Social Security Administration's website](https://www.ssa.gov/oact/babynames/) has shared data on names of babies going back more than a 100 years. Since the SSA shares data for each year in a different file, the following combines the yearly text files into a single .csv file. 
The data was gathered from the  on `r library(lubridate); dt <- ymd(Sys.Date()); paste0(month(dt,label = T),' ',day(dt),', ',year(dt))`
```{r}
setwd('C:/myFiles/Learning/datasets/babynames/')
download.file(url = 'https://www.ssa.gov/oact/babynames/names.zip',destfile = 'names.zip')
unzip('C:/myFiles/Learning/datasets/babynames/names.zip')

data = data.frame()
for (i in dir()[grep(pattern = '^yob[0-9]+.txt$',x = dir())]){
  data = rbind(data, 
               cbind(year = readr::parse_number(i),
                     read.csv(i,header = F,col.names = c('name','gender','n'))))
}
write.csv(data,'baby_names.csv',row.names = F)
```
# Baby Names State Data  
The [Social Security Administration's website](https://www.ssa.gov/oact/babynames/) has shared data on names of babies going back more than a 100 years. The state level data is broken out by State. So, this code combines the State files into a single .csv file. 
The data was gathered from the  on `r library(lubridate); dt <- ymd(Sys.Date()); paste0(month(dt,label = T),' ',day(dt),', ',year(dt))`
```{r}
download.file(url = 'https://www.ssa.gov/oact/babynames/state/namesbystate.zip',destfile = 'names_by_state.zip')
unzip('C:/myFiles/Learning/datasets/babynames/names_by_state.zip')
data_state = data.frame()
for (i in dir()[grep(pattern = '^[A-Z]+.TXT$',x = dir())]){
  data_state = rbind(data_state,
                     read.csv(i,header = F,col.names = c('state','gender','year','name','n')))
}
data_state = data_state[,c('state', 'year', 'name', 'gender', 'n')]
write.csv(data_state, 'baby_names_by_state.csv',row.names = F)
```

